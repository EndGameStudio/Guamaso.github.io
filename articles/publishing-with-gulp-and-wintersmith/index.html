<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Publishing Wintersmith with Gulp - Version 1 - Juan's Dev Journal
    </title>
    <link rel="alternate" href="http://dev.endgamestudio.com//feed.xml" type="application/rss+xml" title="Dev journal, snippets, and rants.">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body class="article-detail">
    <header class="header">
      <div class="content-wrap">
        <h1>Publishing Wintersmith with Gulp - Version 1</h1>
        <p class="author">Written by <span class="author"><a href="mailto:juanthedesigner@gmail.com">Juan Orozco</a></span>
        </p>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <section class="content"><p>Unfortunately, I didn’t get all of my must-have items but I was able to get most of&nbsp;them.</p>
<p>The Gulpfile does all of my bare minimum tasks except for one thing - committing and pushing to the github pages repository.  Since I have my versioning split into three different repos and the gulp-git module assumes that the location of the gulpfile <em>is</em> the repository home (I think…), it fails since I don’t have a repo&nbsp;there.</p>
<p><span class="more"></span></p>
<script src="https://gist.github.com/Guamaso/a8717f5085c0728f91c0.js"></script>

<p>I was hoping to change the current working directory to the actual repo folder but I’m not sure how or if this is&nbsp;possible.</p>
<p>The <code>rename</code> module is a life savor for working with Wintersmith. Moving articles from my <code>articles</code> folder to the <code>wintersmith</code> folder was easier than I originally&nbsp;thought.</p>
<p>The <code>run-Wintersmith</code> module was a bit tricky. I’m not certain why but npm was erroring out during install.  I added <code>wintersmith</code> as a dependency to my gulpfile and copied the <code>index.js</code> and <code>package.json</code> files manually to the incomplete folder within <code>node-modules</code>. It’s a hack but it works; I can successfully run <code>wintersmith.build()</code>.</p>
<p>The very next step is to get git working. Right after that is spell checking. Later on, I’d like to add better handling of the&nbsp;articles.  </p>
<p>My <code>articles/published</code> folder should always win. In other words, the <code>wintersmith/content/articles</code> folder should match only what is in the published files and nothing more. During testing, a draft article snuck in my wintersmith folder even though it wasn’t in my published folder. This should be rare once I’m done testing but I’d still like to catch it instead of having a draft article get&nbsp;published.</p>
<p>Until then, I am currently running git commands manually. This isn’t <em>that</em> big of a deal as my main purpose was to have an article structure that could be managed&nbsp;easily.  </p>
<p>Wintersmith kind of kills me in that I can’t group articles in a folder. I wanted to have articles grouped by year, for example.  So, a blog post from 2013 would show up as <code>domain.com/2013/my-blog-post/</code>. If it can do this, I have not found how.  Wintersmith does not support drafts - which actually makes sense, I’m just surprised I haven’t seen many solutions for&nbsp;this.</p>
<p>Either way, the script provides about 70% of what I set out to do, so I’d call this a solid and productive&nbsp;day.</p>
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="/">« Full blog</a></div>
        <section class="about"><p>Wintersmith is made by <a href="http://johan-nordberg.com/">Johan Nordberg</a> and licensed under the <a href="http://opensource.org/licenses/MIT">MIT-license</a>.</p>
<p>Juan was made by his parents and they’re somewhere back in California. Juan is now in North Carolina makes web things for a living. </p>
<p>I enjoy tinkering and learning and making. I also probably like to overthink things which is what you’ll mostly find here.</p>

        </section>
        <section class="copy">
          <p>&copy; 2014 @Guamaso &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>
          </p>
        </section>
      </div>
    </footer>
  </body>
</html>